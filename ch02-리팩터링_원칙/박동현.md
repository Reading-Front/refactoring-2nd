# 리팩터링 원칙

**리팩터링: 겉보기 동작은 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법**

## 2.1 두 개의 모자

소프트웨어를 개발할 때 목적이 `기능추가`냐, 아니면 `리팩터링`이냐 명확히 구분해 작업한다. 켄트 벡은 이를 두 개의 모자에 비유했다.

- 기능 추가 모자: 기존 코드는 건드리지 않고 새 기능만 추가, 진척도는 테스트를 추가해서 통과하는지 확인하는 방식으로 측정
- 리팩터링 모자: 기능 추가는 절대 하지 않으며, 오로지 코드 재구성에만 전념한다.

## 2.2 리팩터링하는 이유

- 리팩터링 하면 소프트웨어 이해하기 쉬워짐
- 리팩터링 하면 버그를 쉽게 찾을 수 있다.
- 리팩터링 하면 프로그래밍 속도를 높일 수 있다.

## 2.3 리팩터링 시기

1. 처음엔 그냥 한다.
2. 비슷한 일을 두 번째로 하게 되면 일단 계속 진행한다.
3. 비슷한 일을 세 번 진행하게 되면 리팩터링 한다.

-> 스트라이크 세 번이면 리팩터링 하라

함수를 매개변수화 하기를 사용하여 기능을 쉽게 추가하게 만들자.

무언가를 수정하려 할 때는 수정하기 쉽게 정돈하고, 그런다음 수정하자

추상화 인터페이스가 있따면, 라이브러리를 훨씬 쉽게 교체할 수 있다.
