# 1-1 간단한 레코드 캡슐화하기

프로그램 전체에서 사용되는 상수를 리팩토링하여 캡슐화한다.

```javascript
// 프로그램 전체에서 사용되는 상수
const organization = { name: 'Acme Gooseberries', country: 'GB' }

// 읽기
let result = ''
result += `<h1>${organization.name}</h1>\n`

// 쓰기
organization.name = 'New Name'
```

## (1) 변수 캡슐화하기

레코드를 담은 변수를 캡슐화한다.
캡슐화하는 함수의 이름은 검색하기 쉽게 짓는다.

```javascript
const organization = { name: 'Acme Gooseberries', country: 'GB' }

function getRawDataOfOrganization() {
  return organization
}

// 읽기
let result = ''
result += `<h1>${getRawDataOfOrganization().name}</h1>\n`

// 쓰기
getRawDataOfOrganization().name = 'New Name'
```

## (2) 임시로 사용할 게터 만들고, 사용부에서 수정하기

레코드를 감싼 단순한 클래스로 해당 변수의 내용을 교체한다.
이 클래스에 원본 레코드를 바노한하는 접근자 정의하고, 변수를 캡슐화하는 함수들이 이 접근자를 사용하도록 수정한다.

```javascript
class Organization {
  constructor(data) {
    this._data = data
  }

  get name() {
    return this._data.name
  }

  set name(aString) {
    this._data.name = aString
  }
}

const organization = new Organization({
  name: 'Acme Gooseberries',
  country: 'GB',
})

// 임시 함수 제거
// function getRawDataOfOrganization() {
//   return organization._data
// }

function getOrganization() {
  return organization
}
```

## (3) `_data`의 필드들을 객체 안에 펼쳐놓아 더 깔끔하게 변경

```javascript
class Organization {
  constructor(data) {
    this._name = data.name
    this._country = data.country
  }

  get name() {
    return this._name
  }

  set name(aString) {
    this._name = aString
  }

  get country() {
    return this._country
  }

  set country(aCountryCode) {
    this._country = aCountryCode
  }
}

const organization = new Organization({
  name: 'Acme Gooseberries',
  country: 'GB',
})

function getOrganization() {
  return organization
}
```
