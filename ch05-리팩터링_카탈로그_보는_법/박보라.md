# 5장 - 리팩터링 카탈로그 보는 법

## 1. 이 장의 역할

- 5장은 **“리팩터링 카탈로그(6~12장)”를 어떻게 읽고, 활용할지**를 안내하는 사용 설명서 같은 장이다.
- 개별 리팩터링 기법 하나하나를 깊게 설명하기보다는,
  - 카탈로그에 실린 **각 항목의 구성 요소가 무엇인지**
  - 실제 개발할 때 **어떤 관점으로 찾아서 쓰면 좋은지**를 알려준다.
- 한마디로 요약하면:  
  **“리팩터링 카탈로그는 사전이고, 5장은 그 사전을 잘 쓰는 법”** 을 설명한다.

---

## 2. 리팩터링 항목의 기본 구조

각 리팩터링은 대략 다음과 같은 공통 구조를 가진다.

1. **이름(Name)**
   - 리팩터링 기법의 공식 이름.
   - 팀에서 소통할 때 “함수 추출하기”, “임시 변수를 질의 함수로 바꾸기” 같은 이름을 써서  
     **의사소통 비용을 줄이는 것이 중요**하다는 메시지가 담겨 있다.

2. **요약/개요(What & When)**
   - 이 리팩터링이 **무엇을 하는지**, **언제 사용하면 좋은지**를 짧게 정리한다.
   - 코드 냄새와 연결해서 “이런 상황일 때 이 기법을 고려해라”라고 안내하는 부분.

3. **동기(Motivation / Why)**
   - 왜 이런 리팩터링을 해야 하는지,  
     **장점(가독성, 중복 제거, 변경 용이성 등)**을 설명한다.
   - 단순히 “이렇게 고쳐라”가 아니라,  
     **“왜 이런 방향이 좋은 설계인가”**를 이해시키려는 부분.

4. **예제(Example)**
   - 리팩터링 전 코드와 후 코드를 비교해서 보여준다.
   - 실제 예제를 통해 “이 기법이 어떤 코드 냄새를 해결하는지” 감이 오게 돕는다.

5. **절차(Mechanics / How)**
   - 리팩터링을 할 때 밟아야 할 **구체적인 단계(step)**들이 나열된다.
   - 가능한 한 **‘작은 단계로 나눠서, 매 단계마다 테스트하면서 진행’** 하도록 구성된다.
   - 예:  
     1) 함수 복사 → 2) 호출부 교체 → 3) 원본 제거 … 와 같은 식의 체크리스트.

6. **결과 / 효과 & 관련 리팩터링**
   - 이 리팩터링을 하고 나면 **코드 구조가 어떻게 바뀌는지**,
   - 함께 고려하면 좋은 **관련 리팩터링들**이 소개된다.  
     (예: “함수 추출하기”를 했으면 다음으로 “임시 변수를 질의 함수로 바꾸기”를 볼 수도 있다 등)

---

## 3. 카탈로그를 활용하는 방법

### 3-1. 냄새 → 리팩터링으로 찾기

- 3장에서 다뤘던 **코드 냄새(긴 함수, 중복 코드, 긴 매개변수 목록 …)** 가 출발점이 된다.
- “지금 내 코드에서 나는 냄새가 뭐지?”를 먼저 찾고,  
  그 냄새를 해소할 때 자주 쓰이는 리팩터링들을 카탈로그에서 찾아본다.
- 예:
  - 긴 함수 → **함수 추출하기**, **조건문 분해하기**
  - 중복 코드 → **메서드 올리기**, **문장 슬라이드하기** 등

### 3-2. “하고 싶은 설계 변경”에서 거꾸로 찾기

- 때로는 냄새가 아니라 **“하고 싶은 변경 방향”** 이 먼저 떠오른다.
  - “이 부분을 객체로 분리하고 싶은데?”
  - “이 API를 더 깔끔하게 만들고 싶은데?”
- 이럴 때는 **챕터 단위(캡슐화, 기능 이동, API 리팩터링 등)** 로 접근해서,  
  그 안에서 적절한 리팩터링을 골라 쓴다.
- 즉,
  - **냄새 중심 검색** vs **설계 목표 중심 검색**  
    두 가지 관점으로 카탈로그를 탐색할 수 있다.

### 3-3. 전부 외우려고 하지 말 것

- 저자는 **모든 리팩터링을 외우려고 애쓰지 말라**고 강조한다.
- 대신,
  - 자주 부딪히는 냄새/상황 몇 가지를 고르고
  - 거기에 대응되는 리팩터링 몇 개를 **반복해서 연습**하는 방식이 더 현실적이다.
- 필요할 때 **카탈로그를 찾아보는 습관**을 들이면 된다.  
  (마치 API 문서 찾아보듯이.)


## 4. 인상 깊었던 포인트 (정리용)

- 리팩터링은 “큰 수술”보다 **작은 단계들의 연속**이라는 점.
- 리팩터링 카탈로그는 **레시피북** 같은 것이고,  
  실제 개발에서는 냄새/목표에 따라 **여러 레시피를 조합**해서 쓴다는 점.
- 이름, 동기, 절차를 함께 이해해야  
  “형식적인 리팩터링”이 아니라 **설계 감각이 함께 자라난다**는 메시지.


## 5. 내 생각 / 적용 아이디어

- 우리 팀 코드에서 떠오르는 **코드 냄새 예시**:
  - 예: 결제 모듈 함수가 너무 길다, 조건문이 중첩되어 있다 등
- 그 냄새에 대해 6~12장에서 어떤 리팩터링을 먼저 찾아볼지
  - 예: “긴 함수 → 함수 추출하기”부터 적용해 보기.
- 앞으로 리팩터링할 때 **카탈로그를 어떻게 참고할지**에 대한 나만의 계획
  - PR 전에 한 번 냄새 체크 → 해당되는 리팩터링 1~2개만이라도 적용해보기
  - 새로 알게 된 리팩터링은 카탈로그에서 한 번 더 찾아 읽어보기

